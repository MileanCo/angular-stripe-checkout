(function(){"use strict";var e="stripe.checkout";var t="https://checkout.stripe.com/checkout.js";var n={address:["data-address","boolean"],alipay:["data-alipay","boolean-or-auto"],alipayReusable:["data-alipay-reusable","boolean"],allowRememberMe:["data-allow-remember-me","boolean"],amount:["data-amount","number"],billingAddress:["data-billing-address","boolean"],bitcoin:["data-bitcoin","boolean"],currency:["data-currency","string"],description:["data-description","string"],email:["data-email","string"],image:["data-image","string"],key:["data-key","string"],label:["data-label","string"],locale:["data-locale","string"],name:["data-name","string"],color:["data-color","string"],panelLabel:["data-panel-label","string"],shippingAddress:["data-shipping-address","boolean"],zipCode:["data-zip-code","boolean"]};var o;if(typeof module!=="undefined"&&typeof module.exports==="object"){o=require("angular");module.exports=e}else{o=window.angular}var a=o.extend;o.module(e,[]).directive("stripeCheckout",r).provider("StripeCheckout",i);r.$inject=["$parse","$timeout","StripeCheckout"];function r(e,t,n){return{link:o};function o(o,a,r){var i;n.load().then(function(){t(function(){i=n.configure(u(a))},50)});a.on("click",function(){if(i)i.open(u(a)).then(function(t){var n=e(r.stripeCheckout)(o);if(typeof n==="function")n.apply(null,t)})})}}function i(){var e={};this.defaults=function(t){a(e,t)};this.load=function(e){return e.load()};this.load.$inject=["StripeCheckout"];this.$get=function(t,n){return new l(t,n,e)};this.$get.$inject=["$document","$q"]}function l(e,t,n){var o={};var r;this.configure=function(e){return new c(t,a({},n,o,e))};this.load=function(){if(!r)r=s(e,t);return r};this.defaults=function(e){a(o,e)}}function c(e,t){var n,o;var r=StripeCheckout.configure(a({},t,{token:function(e,a){if(t.token)t.token(e,a);o=true;n.resolve([e,a])},closed:function(){if(t.closed)t.closed();if(!o)n.reject()}}));this.open=function(t){n=e.defer();o=false;r.open(t);return n.promise};this.close=function(){o=false;r.close();if(t.closed)t.closed();if(n)n.reject()}}function u(e){var t,o,a,r={};for(t in n){if(!n.hasOwnProperty(t))continue;o=n[t];a=d(e.attr(o[0]),o[1]);if(a!=null)r[t]=a}return r}function s(e,n){var o=n.defer();var a=e[0];var r=a.createElement("script");r.src=t;r.onload=function(){o.resolve()};r.onreadystatechange=function(){var e=this.readyState;if(e==="loaded"||e==="complete")o.resolve()};r.onerror=function(){o.reject(new Error("Unable to load checkout.js"))};var i=a.getElementsByTagName("head")[0];i.appendChild(r);return o.promise}function d(e,t){if(t==="boolean"){return e&&e!=="false"}else if(t==="number"){return e&&Number(e)}else if(t==="boolean-or-auto"){if(e==="auto")return e;else return d(e,"boolean")}else{return e}}})();